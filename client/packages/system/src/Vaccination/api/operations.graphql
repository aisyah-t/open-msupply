fragment VaccinationCourseDose on VaccineCourseDoseNode {
  __typename
  id
  label
  vaccineCourse {
    id
    vaccineCourseItems {
      ...VaccineCourseItem
    }
  }
}

fragment VaccinationDetail on VaccinationNode {
  __typename
  id
  facilityNameId
  facilityFreeText
  vaccinationDate
  clinician {
    id
    firstName
    lastName
  }
  given
  stockLine {
    id
    itemId
    batch
  }
  invoice {
    id
    invoiceNumber
  }
  notGivenReason
  comment
}

query vaccination($storeId: String!, $vaccinationId: String!) {
  vaccination(storeId: $storeId, id: $vaccinationId) {
    __typename
    ... on VaccinationNode {
      ...VaccinationDetail
    }
  }
}

query vaccineCourseDose($doseId: String!) {
  vaccineCourseDose(id: $doseId) {
    __typename
    ... on NodeError {
      __typename
      error {
        description
      }
    }
    ... on VaccineCourseDoseNode {
      ...VaccinationCourseDose
    }
  }
}

mutation insertVaccination($storeId: String!, $input: InsertVaccinationInput!) {
  insertVaccination(storeId: $storeId, input: $input) {
    __typename
    ... on VaccinationNode {
      __typename
      id
    }
  }
}
